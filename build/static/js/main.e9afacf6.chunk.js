(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,t,a){e.exports=a(345)},219:function(e,t,a){},324:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),o=(a(219),a(22)),i=a(23),u=a(27),l=a(25),d=a(28),m=a(33),g=a(55),h=a.n(g),p=function(){function e(){Object(o.a)(this,e),this.keyReplace="&1;",this.maxLength=50,this.splitKey=" ",this.countSource=0,this.source=[],this.error=!1}return Object(i.a)(e,[{key:"splitMessage",value:function(e){var t=this;return this.main(e),!this.error&&this.source.map(function(e){return e.replace(t.keyReplace,String(t.source.length))})}},{key:"main",value:function(e){if(e.length<=this.maxLength)this.source=[e];else for(var t=e.split(this.splitKey),a=t.length,n=0;n<a;n++){var r=t[n];if(!this.checkLength(r)){this.error=!0;break}var s=this.source.length-1;if(0===this.source.length)this.createMessage(1,r);else{var c=this.concacMessage(this.source[s],r);this.checkLength(c,!1)?this.source[s]=c:this.createMessage(s+2,r)}var o=this.source.length;if(this.countSource-o>10)return this.main(e)}}},{key:"checkLength",value:function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.countSource+e.length<this.maxLength+this.keyReplace.length:e.length<this.maxLength+this.keyReplace.length}},{key:"createMessage",value:function(e,t){var a=this.initMessage(e,t);this.checkLength(a)?(this.source.push(a),this.countSource++):this.error=!0}},{key:"initMessage",value:function(e,t){return"".concat(e,"/").concat(this.keyReplace," ").concat(t)}},{key:"concacMessage",value:function(e,t){return"".concat(e," ").concat(t)}}]),e}();var f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},a.onChange=function(e){var t=e.target.value,n=function(e){return(new p).splitMessage(e)}(t),r=!1;!1===n&&(r=!0,n=[]),a.state.error!==r&&a.setState({error:r}),a.props.onChange({message:t,source:n})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.message,t=this.state.error;return r.a.createElement(h.a,{placeholder:"Nh\u1eadp tin nh\u1eafn \u0111\u1ec3 g\u1eedi",className:"message-input-field",error:t,value:e,onChange:this.onChange})}}]),t}(r.a.Component),v=a(57),E=a.n(v),b=a(130),j=a.n(b),y=(a(324),a(56)),O=a.n(y),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={source:[],message:""},a.onChange=function(e){a.setState({message:e.message,source:e.source})},a.onSubmit=function(e){e.preventDefault();var t=a.props.addMessage;a.state.source.map(function(e){t({message:e})}),a.setState({message:"",source:[]})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.message,a=e.source;return r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-message",action:"#",className:"d-flex w-100 align-items-end justify-content-center"},r.a.createElement(f,{message:t,onChange:this.onChange}),r.a.createElement("div",{className:"submit-wrapper"},r.a.createElement(O.a,{id:"count-message"},t.length," / ",a.length),r.a.createElement(E.a,{disabled:!Boolean(a.length)||!t.length,className:"rounded-0",variant:"contained",color:"primary",type:"submit"},r.a.createElement(j.a,null))))}}]),t}(r.a.Component),k=a(131),w=a.n(k),M="ADD_MESSAGE",x="UPDATE_MESSAGE",I="DELETE_A_MESSAGE",A="ADD_MESSAGE_SUCCESS",C="UPDATE_MESSAGE_SUCCESS",N="DELETE_A_MESSAGE_SUCCESS",D=Object(m.b)(function(e){return{}},function(e){return{addMessage:function(t){e(function(e){return e.messageId=w()(),e.createdAt=(new Date).getTime(),{type:M,data:e}}(t))}}})(S),_=a(132),L=a(19),T=function(e){return e<10?"0".concat(e):e},G=function(e){var t=new Date(e.time);return r.a.createElement(L.f,{variant:"caption"},T(t.getHours()),":",T(t.getMinutes()))},U=function(e){return r.a.createElement(L.f,{variant:"caption",className:"d-flex align-items-center justify-content-center"},r.a.createElement(L.a,{className:"loading"})," ",r.a.createElement("span",null,"\u0110ang g\u1eedi"))},B=a(134),R=a.n(B),P=a(133),W=a.n(P),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=Boolean(e);return r.a.createElement("div",{className:"tools-wrapper"},r.a.createElement(L.b,{color:"primary","aria-label":"More","aria-owns":t?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(W.a,null)),r.a.createElement(L.c,{id:"long-menu",anchorEl:e,open:t,onClose:this.handleClose},r.a.createElement(L.d,{onClick:this.props.onDelete},r.a.createElement(R.a,null)," X\xf3a tin nh\u1eafn")))}}]),t}(r.a.Component),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).updateMessage=function(){var e=a.props,t=e.updateMessage;e.deleteMessage;t(Object(_.a)(e,["updateMessage","deleteMessage"]))},a.deleteMessage=function(){if(window.confirm("Are you sure?")){var e=a.props;(0,e.deleteMessage)(e.messageId)}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.messageId,n=e.createdAt;e.updatedAt,e.updated;return r.a.createElement("div",{id:"message-".concat(a),className:"message "},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(L.e,{className:"message-wrapper d-flex"},r.a.createElement("div",{className:"message-content w-100"},r.a.createElement("div",{className:"message-des w-100"},t),r.a.createElement("div",{className:"message-meta d-flex w-100 align-items-center jusity-content-between"},r.a.createElement(G,{time:Number(n)}),this.getMeta())),r.a.createElement(J,{onDelete:this.deleteMessage}))))}},{key:"getMeta",value:function(){var e=this.props,t=e.pending,a=e.error,n=e.deleting;return t?r.a.createElement(U,null):n?r.a.createElement(L.f,{variant:"caption"},"\u0110ang x\xf3a"):a?r.a.createElement(L.f,{onClick:this.updateMessage,className:"pointer",variant:"caption",color:"error"},"C\xf3 l\u1ed7i, nh\u1ea5n \u0111\u1ec3 ",r.a.createElement("span",null,"g\u1eedi l\u1ea1i")):a?void 0:r.a.createElement(L.f,{variant:"caption"},"\u0110\xe3 g\u1eedi")}}]),t}(r.a.Component),F=Object(m.b)(null,function(e){return{deleteMessage:function(t){e(function(e){return{type:I,messageId:e}}(t))},updateMessage:function(t){var a=t.messageId;e(function(e,t){return t.updatedAt=(new Date).getTime(),t.updated=!0,{type:x,messageId:e,data:t}}(a,t))}}})(K),H=(a(341),Object(m.b)(function(e){return{messages:e.MESSAGES}})(function(e){var t=e.messages;return r.a.createElement("div",{id:"messages"},t.map(function(e){var t=e.message,a=e.createdAt,n=e.updated,s=e.updatedAt,c=e.messageId,o=e.pending,i=e.error,u=e.deleting;return r.a.createElement(F,{key:c,message:t,createdAt:a,updated:n,updatedAt:s,pending:o,error:i,messageId:c,deleting:u})}))})),X=(a(342),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=document.createElement("link");e.href="https://fonts.googleapis.com/css?family=Roboto:300,400,500",e.rel="stylesheet",e.id="font-roboto",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("font-roboto");e.parentNode.removeChild(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"page"},r.a.createElement("ul",null,r.a.createElement("li",null,"1. C\xf3 th\u1ec3 th\xeam s\u1eeda x\xf3a tin nh\u1eafn"),r.a.createElement("li",null,"2. L\u1ed7i c\xf3 th\u1ec3 x\u1ea3y ra, c\xe1i n\xe0y l\xe0 random \u0111\u1ec3 xem tr\u01b0\u1eddng h\u1ee3p")),r.a.createElement("div",{id:"message-container"},r.a.createElement(H,null),r.a.createElement(D,null)))}}]),t}(n.PureComponent));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(31),q=a(136),z=a(61),Q=a(135),V=[],Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return[].concat(Object(Q.a)(e),[t.data]);case C:return e.map(function(e){return e.messageId===t.messageId&&(e=Object(z.a)({},e,t.data)),e});case N:return e.filter(function(e){return e.messageId!==t.messageId});case"DELETE_MESSAGES":return V;default:return e}},Z=Object($.c)({MESSAGES:Y}),ee=a(24),te=a.n(ee),ae=a(18),ne=function(){return 100*(Math.floor(2*Math.random())+1)},re=function(e){return new Promise(function(t,a){setTimeout(function(){ne()>100||e.error?t(e):a(!1)},ne())})},se=function(e){return new Promise(function(e,t){setTimeout(function(){e(!0)},ne())})},ce=te.a.mark(le),oe=te.a.mark(de),ie=te.a.mark(me),ue=te.a.mark(ge);function le(e){var t;return te.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.data.pending=!0,a.next=3,Object(ae.c)({type:A,data:e.data,messageId:e.data.messageId});case 3:return a.prev=3,a.next=6,Object(ae.b)(re,e.data);case 6:return(t=a.sent).pending=!1,t.error=!1,a.next=11,Object(ae.c)({type:C,data:t,messageId:e.data.messageId});case 11:a.next=19;break;case 13:return a.prev=13,a.t0=a.catch(3),e.data.pending=!1,e.data.error=!0,a.next=19,Object(ae.c)({type:C,data:e.data,messageId:e.data.messageId});case 19:case"end":return a.stop()}},ce,null,[[3,13]])}function de(e){var t,a;return te.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ae.c)({type:C,messageId:e.messageId,data:{deleting:!0}});case 2:return n.prev=2,n.next=5,Object(ae.b)(se,e.messageId);case 5:if(!n.sent){n.next=9;break}return n.next=9,Object(ae.c)({type:N,messageId:e.messageId});case 9:n.next=21;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,Object(ae.d)(function(e){return e.MESSAGES});case 15:return t=n.sent,(a=t[e.messageId]).error=!0,a.deleting=!1,n.next=21,Object(ae.c)({type:C,data:a,messageId:e.messageId});case 21:case"end":return n.stop()}},oe,null,[[2,11]])}function me(e){var t;return te.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ae.c)({type:C,data:Object(z.a)({},e.data,{pending:!0}),messageId:e.data.messageId});case 2:return a.prev=2,a.next=5,Object(ae.b)(re,e.data);case 5:return(t=a.sent).pending=!1,t.error=!1,a.next=10,Object(ae.c)({type:C,data:t,messageId:e.data.messageId});case 10:a.next=18;break;case 12:return a.prev=12,a.t0=a.catch(2),e.data.pending=!1,e.data.error=!0,a.next=18,Object(ae.c)({type:C,data:e.data,messageId:e.data.messageId});case 18:case"end":return a.stop()}},ie,null,[[2,12]])}function ge(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([Object(ae.e)(M,le),Object(ae.e)(x,me),Object(ae.e)(I,de)]);case 2:case"end":return e.stop()}},ue)}var he=te.a.mark(pe);function pe(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.b)(ge);case 2:case"end":return e.stop()}},he)}var fe=Object(q.a)(),ve=Object($.e)(Z,Object($.a)(fe));fe.run(pe);var Ee=ve;c.a.render(r.a.createElement(m.a,{store:Ee},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[214,1,2]]]);
//# sourceMappingURL=main.e9afacf6.chunk.js.map